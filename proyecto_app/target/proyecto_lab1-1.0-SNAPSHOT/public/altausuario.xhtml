<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <title>Alta de Usuarios</title>
    </h:head>
    
    <h:outputScript library="js" name="calendar_es.js"/>
    
    <h:body>
        <h:form>

            <p:fieldset legend="Datos personales">

                <p:panelGrid columns="3">

                    <p:outputLabel value="Nombre:" for="txtNombre"/>
                    <p:inputText value="#{usuarioController.persona.nombre}" required="true" requiredMessage="Nombre obligatorio" id="txtNombre"/>
                    <p:message for="txtNombre"/>

                    <p:outputLabel value="Primer apellido:" for="txtApellido1"/>
                    <p:inputText value="#{usuarioController.persona.apellido1}" required="true"  requiredMessage="Primer apellido obligatorio" id="txtApellido1"/>
                    <p:message for="txtApellido1"/>
                    
                    <p:outputLabel value="Segundo apellido:" for="txtApellido2"/>
                    <p:inputText value="#{usuarioController.persona.apellido2}" required="true"  requiredMessage="Segundo apellido obligatorio" id="txtApellido2"/>
                    <p:message for="txtApellido2"/>
                    
                    <p:outputLabel value="Sexo: "/>
                    <p:selectOneButton id="sexo" value="#{usuarioController.persona.sexo}" required="true" requiredMessage="Especifica tu sexo">
                        <f:selectItem itemLabel="Masculino" itemValue='M'/>
                        <f:selectItem itemLabel="Femenino" itemValue='F'/>
                    </p:selectOneButton>
                    <p:message for="sexo"/>
                    
                    <p:outputLabel value="Fecha de nacimiento:" for="dateBirth"/>
                    <p:calendar value="#{usuarioController.persona.fechaNacimiento}" showOn="button" locale="es" required="true"  requiredMessage="Fecha de nacimiento obligatoria" id="dateBirth"/>
                    <p:message for="dateBirth"/>

                </p:panelGrid>

            </p:fieldset>

            <p:fieldset legend="Datos de acceso">
                <p:panelGrid columns="3">
                    <p:outputLabel value="Especifica tu rol: " for="roles"/>
                    <p:selectOneMenu id="roles" value="#{usuarioController.rol_elegido}" required="true" requiredMessage="Rol obligatorio">
                        <f:selectItems itemLabel="#{rol.descripcion}" value='#{usuarioController.roles}' itemValue="#{rol.descripcion}" var="rol"/>
                    </p:selectOneMenu>
                    <p:message for="roles"/>
                    
                    <p:outputLabel value="Nombre de usuario:" for="txtUsername"/>
                    <p:inputText value="#{usuarioController.usuario.username}" required="true" requiredMessage="Es obligatorio especificar el nombre de usuario." id="txtUsername"/>
                    <p:message for="txtUsername"/>

                    <p:outputLabel value="Password:" for="pw1"/>
                    <p:password id="pw1" value="#{usuarioController.usuario.password}" match="pw2" toggleMask="true" redisplay="true" required="true"  requiredMessage="La contrase単a es obligatoria"/>
                    <p:message for="pw1"/>

                    <p:outputLabel value="Repita contrase単a:" for="pw2"/>
                    <p:password id="pw2" value="#{usuarioController.usuario.password}" toggleMask="true" redisplay="true" required="true" requiredMessage="Es obligatorio repetir la contrase単a."/>
                    <p:message for="pw2"/>
                </p:panelGrid>
            </p:fieldset>
            
            <p:commandButton update="@form" value="A単adir" actionListener="#{usuarioController.insertarUsuario()}"/>
        </h:form>
    </h:body>
</html>
